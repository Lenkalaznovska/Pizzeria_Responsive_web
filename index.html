<!DOCTYPE html>
<html lang="cs">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pizzerie San Marino v Kladně</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">

    <style>
        /* Skryje obsah před inicializací Vue, aby se zabránilo "blikání" */
        [v-cloak] {
            display: none;
        }

        body,
        html {
            font-family: 'Montserrat', sans-serif;
            background-color: #FFFFFF;
            overflow-x: hidden;
        }

        .font-cursive {
            font-family: 'Pacifico', cursive;
        }

        .header-bg-bottom {
            background-color: #9CA3AF;
            -webkit-mask-image: url('Images/pozadi-header.png');
            mask-image: url('Images/pozadi-header.png');
            -webkit-mask-size: cover;
            mask-size: cover;
            -webkit-mask-position: bottom;
            mask-position: bottom;
        }

        .header-bg-top {
            background-image: url('Images/pizza.webp');
            background-size: cover;
            background-position: center;
            -webkit-mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
            mask-image: linear-gradient(to bottom, black 80%, transparent 100%);
        }

        .pricelist-bg-bottom {
            background-image: url('Images/pozadi1.jpg');
            background-size: cover;
            background-position: center;
        }

        .pricelist-bg-top {
            background-image: url('Images/sanmarino.webp');
            background-size: cover;
            background-position: center;
            -webkit-mask-image: linear-gradient(to top, black 85%, transparent 100%);
            mask-image: linear-gradient(to top, black 85%, transparent 100%);
        }

        .square-fix {
            display: inline-block;
            vertical-align: -0.2em;
            font-size: 0.6em;
        }

        @keyframes lure-pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7);
            }

            70% {
                transform: scale(1.08);
                box-shadow: 0 0 10px 20px rgba(255, 255, 255, 0);
            }

            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);
            }
        }

        .animate-lure-pulse {
            animation: lure-pulse 1.8s infinite;
        }

        .bg-parchment {
            background-image: url('Images/pozadi.png');
            background-size: 100% 100%;
            background-repeat: no-repeat;
        }

        .bg-burgers-section {
            background-image: url('Images/pozadi2.jpg');
            background-size: 100% 100%;
            background-repeat: no-repeat;
        }

        .swiper-container-reviews .swiper-slide {
            aspect-ratio: 4 / 3;
            background-color: #FFFFFF;
            border: 2px solid #D1D5DB;
            border-radius: 0.75rem;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            box-sizing: border-box;
        }

        .swiper-container-reviews .swiper-slide img {
            width: 100%;
            height: 100%;
            object-fit: contain; /* Vráceno zpět */
            cursor: pointer; /* Přidán kurzor pro indikaci kliknutí */
            transition: transform 0.2s ease-in-out;
        }
        .swiper-container-reviews .swiper-slide img:hover {
            transform: scale(1.05);
        }

        .review-swiper-button-prev,
        .review-swiper-button-next {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            z-index: 20;
            cursor: pointer;
            background-color: #E20B18;
            border-radius: 9999px;
            padding: 0.75rem;
            transition: background-color 0.2s;
        }

        .review-swiper-button-prev:hover,
        .review-swiper-button-next:hover {
            background-color: #c00a15;
        }

        .review-swiper-button-prev {
            left: -10px;
        }

        .review-swiper-button-next {
            right: -10px;
        }

        .review-swiper-button-prev svg,
        .review-swiper-button-next svg {
            color: white;
            width: 1.5rem;
            height: 1.5rem;
        }
    </style>
</head>

<body class="bg-white">

    <div id="app" v-cloak class="relative bg-white">
        <section class="bg-white py-16 lg:py-24">
            <div class="container mx-auto px-6 md:px-12 lg:px-20">
                <div class="relative px-10 md:px-0">
                    <div class="max-w-6xl mx-auto">
                        <div class="text-center md:text-left mb-8">
                            <p class="font-cursive text-[#E20B18] text-4xl mb-2" style="position:relative; top: -15px;">Recenze</p>
                            <h2 class="text-4xl md:text-5xl font-black uppercase tracking-wider text-gray-900">Co o jídle říkají zákazníci?</h2>
                        </div>
                        <div class="overflow-hidden">
                            <div class="swiper-container swiper-container-reviews">
                                <div class="swiper-wrapper">
                                    <div v-for="(imgSrc, index) in reviewImages" :key="index" class="swiper-slide">
                                        <img :src="imgSrc" @click="openLightbox(imgSrc)" alt="Recenze od zákazníka">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="review-swiper-button-prev -left-4 md:-left-10">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
                        </svg>
                    </div>
                    <div class="review-swiper-button-next -right-4 md:-right-10">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
                        </svg>
                    </div>
                </div>
            </div>
        </section>
        
        <footer class="bg-[#017D4D] text-white w-full">
            </footer>

        <transition enter-active-class="transition ease-out duration-300" enter-from-class="opacity-0" enter-to-class="opacity-100" leave-active-class="transition ease-in duration-200" leave-from-class="opacity-100" leave-to-class="opacity-0">
            <div v-if="lightboxOpen" @click="closeLightbox" class="fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 cursor-pointer">
                <div @click.stop class="relative">
                    <img :src="lightboxImage" alt="Zvětšená recenze" class="object-contain rounded-lg shadow-2xl" style="max-height: 90vh; max-width: 90vw;">
                    <button @click="closeLightbox" class="absolute -top-4 -right-4 bg-white rounded-full p-2 text-gray-800 hover:bg-gray-200 transition-colors">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>
        </transition>

        <transition enter-active-class="transition ease-out duration-300" enter-from-class="opacity-0" enter-to-class="opacity-100" leave-active-class="transition ease-in duration-200" leave-from-class="opacity-100" leave-to-class="opacity-0">
            <div v-if="allergenModalOpen" @click="closeAllergenModal" class="fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4">
                <div @click.stop class="relative bg-white rounded-lg shadow-xl p-2">
                    <button @click="closeAllergenModal" class="absolute -top-4 -right-4 bg-white rounded-full p-1 text-gray-800 hover:bg-gray-200 z-10">
                        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                    <img src="Images/alergeny.jpg" alt="Seznam alergenů" class="w-full h-auto object-contain" style="max-height: 90vh;">
                </div>
            </div>
        </transition>
    </div>

    <script>
        const {
            createApp
        } = Vue;

        createApp({
            data() {
                const reviewImagePaths = [
                    'Images/recenze.jpg', 'Images/recenze1.jpg', 'Images/recenze2.jpg',
                    'Images/recenze3.jpg', 'Images/recenze4.jpg', 'Images/recenze5.jpg',
                    'Images/recenze6.jpg', 'Images/recenze7.jpg', 'Images/recenze8.jpg',
                    'Images/recenze9.jpg', 'Images/recenze10.jpg', 'Images/recenze11.jpg',
                    'Images/recenze12.jpg', 'Images/recenze13.jpg', 'Images/recenze14.jpg',
                    'Images/recenze15.jpg', 'Images/recenze16.png', 'Images/recenze17.png'
                ];
                for (let i = reviewImagePaths.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [reviewImagePaths[i], reviewImagePaths[j]] = [reviewImagePaths[j], reviewImagePaths[i]];
                }

                return {
                    mobileMenuOpen: false,
                    allergenModalOpen: false,
                    lightboxOpen: false, // NOVÁ PROMĚNNÁ pro lightbox
                    lightboxImage: null,  // NOVÁ PROMĚNNÁ pro obrázek v lightboxu
                    navigation: [ /* ... */ ],
                    title: 'Pizzerie San Marino',
                    slogan: 'Vždy čerstvá, vždy z lásky',
                    description: 'Retro pizzerie San Marino v Kladně – místní klasika, rychlý rozvoz a vždy poctivé suroviny.',
                    phone: '+420 604 633 373',
                    orderText: 'Objednat online',
                    gallery: { /* ... */ },
                    frequentOrders: [ /* ... */ ],
                    reviewImages: reviewImagePaths
                }
            },
            methods: {
                // ... (ostatní metody jako nextImage, prevImage, atd.)
                openAllergenModal() {
                    this.allergenModalOpen = true;
                },
                closeAllergenModal() {
                    this.allergenModalOpen = false;
                },
                // NOVÉ METODY PRO LIGHTBOX
                openLightbox(imageSrc) {
                    this.lightboxImage = imageSrc;
                    this.lightboxOpen = true;
                },
                closeLightbox() {
                    this.lightboxOpen = false;
                    // Pro plynulejší přechod můžeme obrázek smazat až po animaci, ale pro jednoduchost stačí toto.
                    this.lightboxImage = null; 
                }
            },
            mounted() {
                // ... (kód pro Swiper a zvýraznění dne zůstává stejný)
            }
        }).mount('#app');
    </script>
</body>

</html>
